[paket]
tanim   = 3D wayland pencere y√∂neticisi
paketci = milisarge
grup    = sistem
url     = https://wayfire.org

[gerek]
derleme = meson wayland wayland-protocols wlroots pango libjpeg-turbo glm nlohmann-json
calisma = wayfire xwayland

[kaynak]
git     = https://github.com/WayfireWM/wayfire
git     = https://github.com/WayfireWM/wf-config
git     = https://github.com/WayfireWM/wf-utils
git     = https://github.com/WayfireWM/wf-touch
git     = https://gitlab.freedesktop.org/wlroots/wlroots

[derle]
betik   = rmdir subprojects/*
betik   = cp -r /sources/wf-config subprojects/wf-config;cd subprojects/wf-config;git checkout 5cd0c8a;cd -
betik   = cp -r /sources/wf-utils subprojects/wf-utils;cd subprojects/wf-utils;git checkout 15f8e16;cd -
betik   = cp -r /sources/wf-touch subprojects/wf-touch;cd subprojects/wf-touch;git checkout b8b844f;cd -
betik   = cp -r /sources/wlroots subprojects/wlroots;cd subprojects/wlroots;git checkout 6dce6ae;cd -
betik   = sed -i "s#'examples=false'#'wlroots:default_library=static','examples=false'#g" $SRC/wayfire-x-git/meson.build
ekconf  = -Dtests=disabled -Dxwayland=enabled -Duse_system_wfconfig=disabled -Duse_system_wlroots=disabled -Dwf-touch:tests=disabled -Dwf-config:tests=disabled
tip     = meson

[pakur]
tip     = meson
betik   = install -Dm644 wayfire-$surum/wayfire.desktop "${PKG}/usr/share/wayland-sessions/wayfire.desktop"
betik   = install -Dm644 wayfire-$surum/wayfire.ini "${PKG}/etc/wayfire/wayfire.ini"
betik   = rm -rf $PKG/usr/man
betik   = rm -rf $PKG/usr/lib/*.a
betik   = mv $PKG/usr/bin/wayfire $PKG/
betik   = mv $PKG/usr/share/wayland-sessions/wayfire.desktop $PKG/
betik   = rm -rf $PKG/etc
betik   = rm -rf $PKG/usr
betik   = mkdir -p $PKG/usr/{bin,share/wayland-sessions}
betik   = mv $PKG/wayfire $PKG/usr/bin/wayfire-x
betik   = mv $PKG/wayfire.desktop $PKG/usr/share/wayland-sessions/wayfire-x.desktop
betik   = sed -i 's/wayfire/wayfire-x/g' $PKG/usr/share/wayland-sessions/wayfire-x.desktop
